@page "/story-episodes-upload"
@inject NavigationManager NavigationManager

<h3>Story Upload Control Panel</h3>
<h4>Please follow the steps</h4>

@if (_currentStory == null)
{
    <p>Step 1: Upload your story.</p>
    
    <UploadStory Story="@_currentStory"></UploadStory>
}
else
{
    
    <p>Step 2: Upload Episodes.</p>
    <UploadEpisodes @Story = _currentStory></UploadEpisodes>
    <p>You can upload as many episodes as needed.</p>

    @if (!FinishedUploading)
    {
        <button @onclick="FinishUploading">Finish and Save</button>
    }
    else
    {
        <p>Upload process completed.</p>
    }
}

@code {
    private bool StoryUploaded = false;
    private bool FinishedUploading = false;

    MainStory _currentStory;

    private void GoToStoryUpload()
    { 
        StoryUploaded = true;
        NavigationManager.NavigateTo("/upload-story");
    }

    private void GoToDeveloper()
    {
        NavigationManager.NavigateTo("/developer");
    }
    private void GoToEpisodeUpload()
    {
        NavigationManager.NavigateTo("/upload-episode"); 
    }

    private void FinishUploading()
    {
        FinishedUploading = true;
        Console.WriteLine("User finished uploading all episodes.");
       
    }
}